# ‚òÅÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Mail.ru Cloud

–°–ø–µ—Ü–∏—Ñ–∏–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∏ —Ä–∞–±–æ—Ç—ã —Å –û–±–ª–∞–∫–æ–º Mail.ru —á–µ—Ä–µ–∑ rclone.

## üõ†Ô∏è –°–æ–∑–¥–∞–Ω–∏–µ remote

### –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ!** –û–±—ã—á–Ω—ã–π –ø–∞—Ä–æ–ª—å –æ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç.

1. –í–æ–π–¥–∏—Ç–µ –≤ Mail.ru –æ–±–ª–∞–∫–æ
2. –û—Ç–∫—Ä–æ–π—Ç–µ **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å ‚Üí –ü–∞—Ä–æ–ª–∏ –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π**
3. –°–æ–∑–¥–∞–π—Ç–µ –ø–∞—Ä–æ–ª—å, –Ω–∞–∑–æ–≤–∏—Ç–µ –µ–≥–æ, –Ω–∞–ø—Ä–∏–º–µ—Ä, `rclone`
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —ç—Ç–æ—Ç –ø–∞—Ä–æ–ª—å (–ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –ø—Ä–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏)

### –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

```bash
rclone config
```

–ü–æ—à–∞–≥–æ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å:
1. `n` ‚Äî —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π remote
2. –í–≤–µ–¥–∏—Ç–µ –∏–º—è: `mail_ru` (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ –∏–º—è)
3. –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø: **mailru** (Mail.ru Cloud)
4. User name: –≤–∞—à email@mail.ru
5. Password: **–ø–∞—Ä–æ–ª—å –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π** (–Ω–µ –æ—Å–Ω–æ–≤–Ω–æ–π –ø–∞—Ä–æ–ª—å!)
6. speedup_enable: `false` (—Å–º. –Ω–∏–∂–µ –ø–æ—á–µ–º—É)

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–ø–∏—Å–æ–∫ –ø–∞–ø–æ–∫
rclone lsd mail_ru:

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ
rclone ls mail_ru:
```

**–í–∞–∂–Ω–æ:** –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ ‚Äî –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–∞—Ä–æ–ª—å. –ù—É–∂–µ–Ω –∏–º–µ–Ω–Ω–æ –ø–∞—Ä–æ–ª—å –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π!

## –û–ø—Ü–∏—è speedup_enable (put by hash)

### –ß—Ç–æ —ç—Ç–æ —Ç–∞–∫–æ–µ?

**`speedup_enable`** ‚Äî —ç—Ç–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è **—Ç–æ–ª—å–∫–æ –¥–ª—è Mail.ru Cloud**, –∫–æ—Ç–æ—Ä–∞—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—é –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞.

### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. rclone —Å—á–∏—Ç–∞–µ—Ç —Ö–µ—à —Ñ–∞–π–ª–∞ —Ü–µ–ª–∏–∫–æ–º (–ª–æ–∫–∞–ª—å–Ω–æ)
2. –°–ø—Ä–∞—à–∏–≤–∞–µ—Ç —É Mail.ru: "–ï—Å—Ç—å –ª–∏ —Ñ–∞–π–ª —Å —Ç–∞–∫–∏–º –∂–µ —Ö–µ—à–µ–º —É –ª—é–±–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è?"
3. –ï—Å–ª–∏ **–¥–∞** ‚Üí —Ñ–∞–π–ª –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è, —Å–æ–∑–¥–∞—ë—Ç—Å—è —Å—Å—ã–ª–∫–∞
4. –ï—Å–ª–∏ **–Ω–µ—Ç** ‚Üí —Ñ–∞–π–ª –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –æ–±—ã—á–Ω—ã–º –æ–±—Ä–∞–∑–æ–º

### –ü–ª—é—Å—ã:

‚úÖ **–û—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ** –¥–ª—è –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ (–∫–Ω–∏–≥–∏, —Ñ–∏–ª—å–º—ã, –º—É–∑—ã–∫–∞, ISO)  
‚úÖ –≠–∫–æ–Ω–æ–º–∏—Ç —Ç—Ä–∞—Ñ–∏–∫  
‚úÖ –≠–∫–æ–Ω–æ–º–∏—Ç –≤—Ä–µ–º—è –∏ CPU  

### –ú–∏–Ω—É—Å—ã –∏ —Ä–∏—Å–∫–∏:

‚ö†Ô∏è **–•–µ—à —Å—á–∏—Ç–∞–µ—Ç—Å—è —Ü–µ–ª–∏–∫–æ–º** ‚Äî –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ CPU –∏ –¥–∏—Å–∫ –¥–ª—è –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤  
‚ö†Ô∏è **–ü–ª–æ—Ö–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö:**
- Calibre-–±–∏–±–ª–∏–æ—Ç–µ–∫–∞
- PDF/EPUB —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏
- –î–∞—Ç–∞—Å–µ—Ç—ã
- –ó–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã (rclone crypt)

‚ö†Ô∏è **–õ–æ–≥–∏—á–µ—Å–∫–∏–π –Ω—é–∞–Ω—Å:**
- –§–∞–π–ª –º–æ–∂–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –∫–∞–∫ —Å—Å—ã–ª–∫–∞, –∞ –Ω–µ –∫–∞–∫ –≤–∞—à upload
- –ü—Ä–∏ —Å–±–æ—è—Ö –∑–∞–≤–∏—Å–∏—Ç–µ –æ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ dedup —É –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞

‚ö†Ô∏è **–ë–µ—Å—Å–º—ã—Å–ª–µ–Ω–Ω–æ –¥–ª—è –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤:**
- –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ `rclone crypt` ‚Üí –≤—Å–µ–≥–¥–∞ —É–Ω–∏–∫–∞–ª—å–Ω—ã–π —Ö–µ—à

### –ß—Ç–æ –≤—ã–±—Ä–∞—Ç—å –¢–ï–ë–ï?

**–¢–≤–æ–π —Å—Ü–µ–Ω–∞—Ä–∏–π:**
- üìö Calibre –±–∏–±–ª–∏–æ—Ç–µ–∫–∞
- üß† git-annex
- ‚òÅÔ∏è rclone –∫–∞–∫ **–æ—Å–æ–∑–Ω–∞–Ω–Ω—ã–π –±—ç–∫–∞–ø**
- ‚ùå –Ω–µ –ø–æ—Ç–æ–∫–æ–≤–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
- ‚ùå –Ω–µ –ø—É–±–ª–∏—á–Ω—ã–π –º–µ–¥–∏–∞–∫–æ–Ω—Ç–µ–Ω—Ç
- ‚ùå –≤–æ–∑–º–æ–∂–Ω–∞ —à–∏—Ñ—Ä–∞—Ü–∏—è –≤ –±—É–¥—É—â–µ–º

**–ú–æ—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: `false`**

**–ü–æ—á–µ–º—É:**
- –¢–≤–æ–∏ —Ñ–∞–π–ª—ã **–ø–æ—á—Ç–∏ –Ω–∞–≤–µ—Ä–Ω—è–∫–∞ —É–Ω–∏–∫–∞–ª—å–Ω—ã**
- –¢—ã —Ü–µ–Ω–∏—à—å **–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç—å –∏ –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å**, –∞ –Ω–µ –º–∞–≥–∏—é
- –¢—ã –∏—Å–ø–æ–ª—å–∑—É–µ—à—å –æ–±–ª–∞–∫–æ –∫–∞–∫ **backup**, –∞ –Ω–µ CDN
- –¢–µ–±–µ –Ω–µ –Ω—É–∂–Ω–æ, —á—Ç–æ–±—ã Mail.ru ¬´—É–≥–∞–¥—ã–≤–∞–ª¬ª —Ñ–∞–π–ª—ã

### –ö–∞–∫ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å false

–ü—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ rclone:
```
Press Enter for the default (true).
```

üëâ **–í–≤–µ–¥–∏ —è–≤–Ω–æ:**
```
false
```

–≠—Ç–æ —Å–æ–∑–¥–∞—Å—Ç –≤ –∫–æ–Ω—Ñ–∏–≥–µ:
```ini
speedup_enable = false
```

### –ö–æ–≥–¥–∞ –∏–º–µ–µ—Ç —Å–º—ã—Å–ª `true`

‚úîÔ∏è –ó–∞–ª–∏–≤–∞–µ—à—å **–º–Ω–æ–≥–æ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤**  
‚úîÔ∏è –ù–µ—Ç —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è  
‚úîÔ∏è –ë–æ–ª—å—à–æ–π –æ–±—ä—ë–º  
‚úîÔ∏è –í–∞–∂–Ω–∞ —Å–∫–æ—Ä–æ—Å—Ç—å, –∞ –Ω–µ –∫–æ–Ω—Ç—Ä–æ–ª—å  

**–ü—Ä–∏–º–µ—Ä—ã:**
- –§–∏–ª—å–º—ã
- –ú—É–∑—ã–∫–∞
- ISO
- –ö—É—Ä—Å—ã
- –î–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤—ã

**–ù–æ –Ω–µ —Ç–≤–æ–π —Å–ª—É—á–∞–π!**

## üöÄ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç—ã

### –°–ø–µ—Ü–∏—Ñ–∏–∫–∞ Mail.ru Cloud

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞
- ‚úÖ speedup_enable –¥–ª—è –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- ‚úÖ –•–æ—Ä–æ—à–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ rclone

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
- ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç –ø–∞—Ä–æ–ª—å –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
- ‚ö†Ô∏è speedup_enable –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–º
- ‚ö†Ô∏è API-–ª–∏–º–∏—Ç—ã

## üõ†Ô∏è –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: "authentication failed"

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ø–∞—Ä–æ–ª—å –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
- –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å remote: `rclone config update mail_ru`

### –ü—Ä–æ–±–ª–µ–º–∞: speedup_enable –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–†–µ—à–µ–Ω–∏–µ:**
```bash
rclone config update mail_ru --mailru-speedup-enable=true
```

### –ü—Ä–æ–±–ª–µ–º–∞: –º–µ–¥–ª–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞

**–†–µ—à–µ–Ω–∏–µ:**
- –û—Ç–∫–ª—é—á–∏—Ç–µ speedup: `speedup_enable = false`
- –£–≤–µ–ª–∏—á—å—Ç–µ –∫—ç—à: `--vfs-cache-max-size 10G`
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `--vfs-cache-mode full`

### –ü—Ä–æ–±–ª–µ–º–∞: —Ñ–∞–π–ª—ã –Ω–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ:**
```bash
rclone rc vfs/refresh recursive=true remote=mail_ru:
```

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- **[–°–∏—Å—Ç–µ–º–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã](05_–°–∏—Å—Ç–µ–º–Ω—ã–µ_—Å–µ—Ä–≤–∏—Å—ã.md)** - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞
- **[VFS –ø–∞—Ä–∞–º–µ—Ç—Ä—ã](06_VFS_–ü–∞—Ä–∞–º–µ—Ç—Ä—ã.md)** - –¢–æ–Ω–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏