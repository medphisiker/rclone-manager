# ‚öôÔ∏è –°–∏—Å—Ç–µ–º–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã Rclone Manager

–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ systemd —Å–µ—Ä–≤–∏—Å–∞–º–∏ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

---

## üìã –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–µ—Ä–≤–∏—Å–æ–≤

Rclone Manager –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **–¥–≤–∞ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —à–∞–±–ª–æ–Ω–∞ —Å–µ—Ä–≤–∏—Å–æ–≤**:

| –°–µ—Ä–≤–∏—Å | –†–µ–∂–∏–º | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|-------|----------|
| `rclone@-ro.service` | Read-only | –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π —Ä–µ–∂–∏–º (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) |
| `rclone@-rw.service` | Read-write | –†–µ–∂–∏–º –∑–∞–ø–∏—Å–∏ (–∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ) |

### –ò–º–µ–Ω–æ–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–≤
```
rclone@<–∏–º—è_–æ–±–ª–∞–∫–∞>-<—Ä–µ–∂–∏–º>.service
```

–ü—Ä–∏–º–µ—Ä—ã:
- `rclone@yandex_disk-ro.service` - –Ø–Ω–¥–µ–∫—Å –î–∏—Å–∫ –≤ read-only
- `rclone@yandex_disk-rw.service` - –Ø–Ω–¥–µ–∫—Å –î–∏—Å–∫ –≤ read-write
- `rclone@mail_ru-ro.service` - Mail.ru –≤ read-only

---

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
```bash
./install.sh
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç:**
- ‚úÖ –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —à–∞–±–ª–æ–Ω—ã –≤ `~/.config/systemd/user/`
- ‚úÖ –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ—Ç systemd
- ‚úÖ –°–æ–∑–¥–∞–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏

### –†—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞
```bash
# –°–æ–∑–¥–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
mkdir -p ~/.config/systemd/user

# –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —à–∞–±–ª–æ–Ω—ã
cp rclone@-ro.service ~/.config/systemd/user/
cp rclone@-rw.service ~/.config/systemd/user/

# –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å systemd
systemctl --user daemon-reload
```

---

## üéØ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ rclone_manager.sh

–û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–±–∏—Ä–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å:

```bash
# –í–∫–ª—é—á–∞–µ—Ç rclone@yandex_disk-ro.service
rclone_manager.sh ro yandex_disk

# –í–∫–ª—é—á–∞–µ—Ç rclone@yandex_disk-rw.service
rclone_manager.sh rw yandex_disk

# –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –æ–±–∞ —Å–µ—Ä–≤–∏—Å–∞
rclone_manager.sh stop yandex_disk
```

---

## üîß –†—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞–º–∏

### –ó–∞–ø—É—Å–∫ –∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–∞
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å read-only
systemctl --user start rclone@yandex_disk-ro.service

# –ó–∞–ø—É—Å—Ç–∏—Ç—å read-write
systemctl --user start rclone@yandex_disk-rw.service

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
systemctl --user stop rclone@yandex_disk-ro.service

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
systemctl --user restart rclone@yandex_disk-ro.service
```

### –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫
```bash
# –í–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ read-only
systemctl --user enable rclone@yandex_disk-ro.service

# –†–∞–∑—Ä–µ—à–∏—Ç—å –∑–∞–ø—É—Å–∫ –±–µ–∑ –∞–∫—Ç–∏–≤–Ω–æ–π —Å–µ—Å—Å–∏–∏
loginctl enable-linger $USER
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
```bash
# –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–∞
systemctl --user status rclone@yandex_disk-ro.service

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
journalctl --user -u rclone@yandex_disk-ro.service -f

# –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
systemctl --user list-units 'rclone@*'
```

---

## üìä –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–µ—Ä–≤–∏—Å–æ–≤

### Read-only (`rclone@-ro.service`)
```ini
--read-only              # –ó–∞–ø—Ä–µ—Ç –∑–∞–ø–∏—Å–∏
--vfs-cache-mode off     # –ë–µ–∑ –∫—ç—à–∞ (–±—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø)
--no-checksum            # –ë–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã—Ö —Å—É–º–º
--no-modtime             # –ë–µ–∑ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- –ë—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø –∫ —Ñ–∞–π–ª–∞–º
- –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤

### Read-write (`rclone@-rw.service`)
```ini
--vfs-cache-mode full    # –ü–æ–ª–Ω—ã–π –∫—ç—à
--vfs-cache-max-size 5G  # –õ–∏–º–∏—Ç –∫—ç—à–∞ 5GB
--vfs-read-chunk-size 64M
--vfs-read-ahead 256M    # –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞
--buffer-size 64M        # –ë—É—Ñ–µ—Ä
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏
- –õ—É—á—à–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- –†–∞–±–æ—Ç–∞ —Å –±–æ–ª—å—à–∏–º–∏ —Ñ–∞–π–ª–∞–º–∏

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∞–∫—Ç–∏–≤–Ω—ã
findmnt --target ~/mnt/yandex_disk

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤
ls -la ~/mnt/yandex_disk

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–≤–æ–±–æ–¥–Ω–æ–µ –º–µ—Å—Ç–æ
df -h ~/mnt/yandex_disk

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è rclone
mount | grep rclone
```

---

## üõ†Ô∏è –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: "fusermount: unknown parameter"
**–†–µ—à–µ–Ω–∏–µ:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ `/etc/fuse.conf` –µ—Å—Ç—å —Å—Ç—Ä–æ–∫–∞ `user_allow_other`

### –ü—Ä–æ–±–ª–µ–º–∞: "Permission denied"
**–†–µ—à–µ–Ω–∏–µ:**
```bash
sudo chown $USER:$USER ~/mnt/yandex_disk ~/mnt/mail_ru
```

### –ü—Ä–æ–±–ª–µ–º–∞: –°–µ—Ä–≤–∏—Å—ã –Ω–µ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
**–†–µ—à–µ–Ω–∏–µ:**
```bash
systemctl --user enable rclone@yandex_disk-ro.service
loginctl enable-linger $USER
```

### –ü—Ä–æ–±–ª–µ–º–∞: –§–∞–π–ª—ã –Ω–µ –≤–∏–¥–Ω—ã –ø–æ—Å–ª–µ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
journalctl --user -u rclone@yandex_disk-ro.service -f

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å
systemctl --user restart rclone@yandex_disk-ro.service
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ó–∞–ø–∏—Å—å –≤ read-only —Ä–µ–∂–∏–º–µ
**–†–µ—à–µ–Ω–∏–µ:** –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ! –í read-only —Ä–µ–∂–∏–º–µ –∑–∞–ø–∏—Å—å –∑–∞–ø—Ä–µ—â–µ–Ω–∞ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏. –î–ª—è –∑–∞–ø–∏—Å–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:
```bash
rclone_manager.sh rw yandex_disk
```

---

## üìÅ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –æ–±–ª–∞–∫–∞

–ß—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–µ –æ–±–ª–∞–∫–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä, Google Drive):

1. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ remote –≤ rclone:**
   ```bash
   rclone config
   ```

2. **–°–æ–∑–¥–∞–π—Ç–µ —Ç–æ—á–∫—É –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**
   ```bash
   mkdir -p ~/mnt/google_drive
   ```

3. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ rclone_manager.sh:**
   ```bash
   rclone_manager.sh ro google_drive
   ```

4. **–î–ª—è —Ä—É—á–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è** - —Å–æ–∑–¥–∞–π—Ç–µ —Å–µ—Ä–≤–∏—Å—ã –ø–æ –∞–Ω–∞–ª–æ–≥–∏–∏ —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ —à–∞–±–ª–æ–Ω–∞–º–∏.

---

## üéØ –ü–∞—Ä–∞–º–µ—Ç—Ä—ã VFS –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ä–µ–∂–∏–º–æ–≤

### Read-only —Ä–µ–∂–∏–º
- `--read-only` - —è–≤–Ω—ã–π –∑–∞–ø—Ä–µ—Ç –∑–∞–ø–∏—Å–∏
- `--vfs-cache-mode off` - –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∫—ç—à
- –ë—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### Read-write —Ä–µ–∂–∏–º
- `--vfs-cache-mode full` - –ø–æ–ª–Ω–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- `--vfs-cache-max-size 5G` - –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∫—ç—à–∞
- –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏

**–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏:** [–ü–∞—Ä–∞–º–µ—Ç—Ä—ã VFS](–ü–∞—Ä–∞–º–µ—Ç—Ä—ã%20VFS.md)

---

## üîó –°–º. —Ç–∞–∫–∂–µ

- **[–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](–ë—ã—Å—Ç—Ä—ã–π%20—Å—Ç–∞—Ä—Ç.md)** - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
- **[–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å](–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å.md)** - –ü—Ä–∞–≤–∏–ª–∞ —Ä–∞–±–æ—Ç—ã
- **[–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫](–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫.md)** - –í—Å–µ –∫–æ–º–∞–Ω–¥—ã
- **[–ü–∞—Ä–∞–º–µ—Ç—Ä—ã VFS](–ü–∞—Ä–∞–º–µ—Ç—Ä—ã%20VFS.md)** - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- **[–ì–æ—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏](../examples/usage_examples.md)** - –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è