# ðŸ“Š Ð’Ð¸Ð·ÑƒÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ ÐºÐ¾Ð½Ñ†ÐµÐ¿Ñ†Ð¸Ð¹ Rclone Manager

## ðŸ”„ ÐšÐ°Ðº Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ rclone mount

```mermaid
graph TD
    A[ÐŸÑ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ] --> B[Ð¤Ð°Ð¹Ð»Ð¾Ð²Ð°Ñ ÑÐ¸ÑÑ‚ÐµÐ¼Ð°]
    B --> C[Rclone mount FUSE]
    C --> D[VFS ÑÐ»Ð¾Ð¹ ÐºÑÑˆÐ¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ]
    D --> E[API ÐžÐ±Ð»Ð°ÐºÐ°]
```

**ÐŸÐ¾ÑÑÐ½ÐµÐ½Ð¸Ðµ:**
1. **ÐŸÑ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ** Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ñ Ñ„Ð°Ð¹Ð»Ð°Ð¼Ð¸ ÐºÐ°Ðº Ñ Ð¾Ð±Ñ‹Ñ‡Ð½Ñ‹Ð¼Ð¸
2. **Ð¤Ð°Ð¹Ð»Ð¾Ð²Ð°Ñ ÑÐ¸ÑÑ‚ÐµÐ¼Ð°** - Ð²Ð¸Ñ€Ñ‚ÑƒÐ°Ð»ÑŒÐ½Ð°Ñ Ð´Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ð¸Ñ Ð² /mnt/
3. **Rclone mount** - Ð¼Ð¾ÑÑ‚ Ð¼ÐµÐ¶Ð´Ñƒ Ñ„Ð°Ð¹Ð»Ð¾Ð²Ð¾Ð¹ ÑÐ¸ÑÑ‚ÐµÐ¼Ð¾Ð¹ Ð¸ Ð¾Ð±Ð»Ð°ÐºÐ¾Ð¼
4. **VFS ÑÐ»Ð¾Ð¹** - ÐºÑÑˆÐ¸Ñ€ÑƒÐµÑ‚ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð´Ð»Ñ Ð¿Ñ€Ð¾Ð¸Ð·Ð²Ð¾Ð´Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚Ð¸
5. **API ÐžÐ±Ð»Ð°ÐºÐ°** - Ñ€ÐµÐ°Ð»ÑŒÐ½Ð¾Ðµ Ñ…Ñ€Ð°Ð½Ð¸Ð»Ð¸Ñ‰Ðµ Ð´Ð°Ð½Ð½Ñ‹Ñ…

---

## ðŸ›¡ï¸ Ð‘ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚ÑŒ Ñ€ÐµÐ¶Ð¸Ð¼Ð¾Ð²

### Read-only (Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾)
```mermaid
graph LR
    A[ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ] --> B{Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ Ñ„Ð°Ð¹Ð»}
    B --> C[Ð—Ð°Ð¿Ñ€Ð¾Ñ Ð² Rclone]
    C --> D[ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° read-only]
    D --> E[ÐžÑ‚ÐºÐ°Ð·Ð°Ð½Ð¾]
    F[ÐžÐ±Ð»Ð°ÐºÐ¾] -.-> G[Ð”Ð°Ð½Ð½Ñ‹Ðµ Ð·Ð°Ñ‰Ð¸Ñ‰ÐµÐ½Ñ‹]
    
    style E fill:#ffebee
    style G fill:#e8f5e8
```

### Read-write (Ð¾Ð¿Ð°ÑÐ½Ð¾)
```mermaid
graph LR
    A[ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ] --> B{Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ Ñ„Ð°Ð¹Ð»}
    B --> C[Ð—Ð°Ð¿Ñ€Ð¾Ñ Ð² Rclone]
    C --> D[Ð’Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ðµ]
    D --> E[Ð£Ð´Ð°Ð»ÐµÐ½Ð¾]
    F[ÐžÐ±Ð»Ð°ÐºÐ¾] --> G[Ð”Ð°Ð½Ð½Ñ‹Ðµ Ð£Ð”ÐÐ›Ð•ÐÐ«]
    
    style E fill:#ffebee
    style G fill:#ffebee
```

---

## ðŸ—ï¸ Ð¡Ñ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð° ÑÐµÑ€Ð²Ð¸ÑÐ¾Ð²

```mermaid
graph TB
    subgraph RcloneManager
        A[rclone_manager.sh]
    end
    
    subgraph SystemdServices
        B[rclone_yandex_disk_ro]
        C[rclone_yandex_disk_rw]
        D[rclone_mail_ru_ro]
        E[rclone_mail_ru_rw]
    end
    
    subgraph MountPoints
        F[yandex_disk]
        G[mail_ru]
    end
    
    A --> B
    A --> C
    A --> D
    A --> E
    
    B --> F
    C --> F
    D --> G
    E --> G
```

---

## âš™ï¸ ÐŸÐ°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ñ‹ VFS

```mermaid
graph TD
    A[Ð ÐµÐ¶Ð¸Ð¼ VFS] --> B{ÐÑƒÐ¶Ð½Ð° Ð·Ð°Ð¿Ð¸ÑÑŒ?}
    B -->|ÐÐµÑ‚| C[off/minimal]
    B -->|Ð”Ð°| D[writes/full]
    
    C --> E[ÐœÐ¸Ð½Ð¸Ð¼Ð°Ð»ÑŒÐ½Ñ‹Ð¹ ÐºÑÑˆ]
    D --> F[ÐŸÐ¾Ð»Ð½Ñ‹Ð¹ ÐºÑÑˆ]
    
    E --> G[Read-only Ð‘ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾]
    F --> H[Read-write ÐžÑÑ‚Ð¾Ñ€Ð¾Ð¶Ð½Ð¾]
    
    style G fill:#e8f5e8
    style H fill:#ffebee
```

---

## ðŸ“Š Ð¡Ñ€Ð°Ð²Ð½ÐµÐ½Ð¸Ðµ Ñ€ÐµÐ¶Ð¸Ð¼Ð¾Ð²

```mermaid
graph TD
    A[Ð ÐµÐ¶Ð¸Ð¼] --> B{Ð‘ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚ÑŒ}
    B -->|Ð”Ð°| C[Read-only]
    B -->|ÐÐµÑ‚| D[Read-write]
    
    C --> E[ÐŸÐ»ÑŽÑÑ‹: Ð—Ð°Ñ‰Ð¸Ñ‚Ð° Ð‘Ñ‹ÑÑ‚Ñ€Ð¾ ÐœÐ°Ð»Ð¾ Ñ€ÐµÑÑƒÑ€ÑÐ¾Ð²]
    D --> F[ÐœÐ¸Ð½ÑƒÑÑ‹ Ð£Ð´Ð°Ð»ÐµÐ½Ð¸Ðµ Ð Ð¸ÑÐº ÐšÐ¾Ð½Ñ‚Ñ€Ð¾Ð»ÑŒ]
    
    style C fill:#e8f5e8
    style D fill:#ffebee
```

---

## ðŸŽ¯ ÐŸÑ€Ð°Ð²Ð¸Ð»Ð° Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚Ð¸

```mermaid
graph TD
    A[ÐÐ°Ñ‡Ð°Ð»Ð¾] --> B[Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ rmro]
    B --> C[ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ ÑÑ‚Ð°Ñ‚ÑƒÑ rms]
    C --> D{ÐÑƒÐ¶Ð½Ð° Ð·Ð°Ð¿Ð¸ÑÑŒ?}
    D -->|ÐÐµÑ‚| E[Ð Ð°Ð±Ð¾Ñ‚Ð°Ñ‚ÑŒ read-only]
    D -->|Ð”Ð°| F[ÐŸÐµÑ€ÐµÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ rmt]
    F --> G[Ð’Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÑŒ Ð¾Ð¿ÐµÑ€Ð°Ñ†Ð¸Ð¸]
    G --> H[Ð’ÐµÑ€Ð½ÑƒÑ‚ÑŒ rmro]
    H --> C
    
    style B fill:#e8f5e8
    style E fill:#e8f5e8
    style F fill:#ffebee
    style H fill:#e8f5e8
```

---

## ðŸ”„ Ð”Ð¸Ð°Ð³Ñ€Ð°Ð¼Ð¼Ð° Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ ÐºÐ¾Ð¼Ð°Ð½Ð´

```mermaid
flowchart TD
    A[ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ Ð²Ð²Ð¾Ð´Ð¸Ñ‚ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñƒ] --> B{ÐšÐ°ÐºÐ°Ñ ÐºÐ¾Ð¼Ð°Ð½Ð´Ð°?}
    
    B -->|rmro| C[Ð—Ð°Ð¿ÑƒÑÐº read-only]
    B -->|rmrw| D[Ð—Ð°Ð¿ÑƒÑÐº read-write]
    B -->|rmt| E[ÐŸÐµÑ€ÐµÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ Ñ€ÐµÐ¶Ð¸Ð¼Ð°]
    B -->|rms| F[ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° ÑÑ‚Ð°Ñ‚ÑƒÑÐ°]
    B -->|rmstop| G[ÐžÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ°]
    
    C --> H[Ð’Ñ‹Ð±Ð¾Ñ€ ÑÐµÑ€Ð²Ð¸ÑÐ°]
    D --> I[Ð’Ñ‹Ð±Ð¾Ñ€ ÑÐµÑ€Ð²Ð¸ÑÐ°]
    E --> J{Ð¢ÐµÐºÑƒÑ‰Ð¸Ð¹ Ñ€ÐµÐ¶Ð¸Ð¼?}
    J -->|ro| D
    J -->|rw| C
    
    H --> K[Ð—Ð°Ð¿ÑƒÑÐº systemd]
    I --> K
    G --> K
    
    K --> L[ÐœÐ¾Ð½Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ]
    L --> M[Ð“Ð¾Ñ‚Ð¾Ð²Ð¾ Ðº Ñ€Ð°Ð±Ð¾Ñ‚Ðµ]
    
    style C fill:#e8f5e8
    style D fill:#ffebee
    style F fill:#fff3e0
    style G fill:#fff3e0
```

---

## ðŸ“ž ÐŸÐ¾Ñ‚Ð¾Ðº Ð¾Ñ‚Ð»Ð°Ð´ÐºÐ¸

```mermaid
graph TD
    A[ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð°] --> B{Ð§Ñ‚Ð¾ Ð½Ðµ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚?}
    
    B -->|Ð¤Ð°Ð¹Ð»Ñ‹ Ð½Ðµ Ð²Ð¸Ð´Ð½Ñ‹| C[ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ ÑÑ‚Ð°Ñ‚ÑƒÑ]
    B -->|ÐžÑˆÐ¸Ð±ÐºÐ° Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð°| D[ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ð¿Ñ€Ð°Ð²Ð°]
    B -->|Ð¡ÐµÑ€Ð²Ð¸Ñ Ð½Ðµ Ð·Ð°Ð¿ÑƒÑÐºÐ°ÐµÑ‚ÑÑ| E[ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ð»Ð¾Ð³Ð¸]
    B -->|Ð¢Ð¾ÐºÐµÐ½ ÑƒÑÑ‚Ð°Ñ€ÐµÐ»| F[ÐžÐ±Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Ñ‚Ð¾ÐºÐµÐ½]
    
    C --> G[ÐŸÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ]
    D --> H[Ð˜ÑÐ¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ Ð¿Ñ€Ð°Ð²Ð°]
    E --> I[ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ ÐºÐ¾Ð½Ñ„Ð¸Ð³]
    F --> J[ÐŸÐµÑ€ÐµÐ½Ð°ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÑŒ]
    
    G --> K[Ð ÐµÑˆÐµÐ½Ð¾]
    H --> K
    I --> K
    J --> K
    
    style K fill:#e8f5e8
```