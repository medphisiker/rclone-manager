# üìä –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–Ω—Ü–µ–ø—Ü–∏–π Rclone Manager

## üîÑ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç rclone mount

```mermaid
graph TD
    A[–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ<br/>nano, ls, cp] --> B[–§–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞<br/>~/mnt/yandex_disk]
    B --> C[Rclone mount<br/>FUSE]
    C --> D[VFS —Å–ª–æ–π<br/>–∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ]
    D --> E[API –û–±–ª–∞–∫–∞<br/>Yandex/Mail.ru]
    
    style A fill:#e1f5fe
    style B fill:#fff3e0
    style E fill:#ffebee
```

**–ü–æ—è—Å–Ω–µ–Ω–∏–µ:**
1. **–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ** —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —Ñ–∞–π–ª–∞–º–∏ –∫–∞–∫ —Å –æ–±—ã—á–Ω—ã–º–∏
2. **–§–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞** - –≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –≤ `~/mnt/`
3. **Rclone mount** - –º–æ—Å—Ç –º–µ–∂–¥—É —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π –∏ –æ–±–ª–∞–∫–æ–º
4. **VFS —Å–ª–æ–π** - –∫—ç—à–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
5. **API –û–±–ª–∞–∫–∞** - —Ä–µ–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∞–Ω–Ω—ã—Ö

---

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Ä–µ–∂–∏–º–æ–≤

### Read-only (–±–µ–∑–æ–ø–∞—Å–Ω–æ)
```mermaid
graph LR
    A[–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å] --> B{–£–¥–∞–ª–∏—Ç—å —Ñ–∞–π–ª}
    B --> C[–ó–∞–ø—Ä–æ—Å –≤ Rclone]
    C --> D[–ü—Ä–æ–≤–µ—Ä–∫–∞<br/>--read-only]
    D --> E[‚ùå –û—Ç–∫–∞–∑–∞–Ω–æ]
    F[–û–±–ª–∞–∫–æ] -.-> G[–î–∞–Ω–Ω—ã–µ –∑–∞—â–∏—â–µ–Ω—ã]
    
    style E fill:#ffebee
    style G fill:#e8f5e8
```

### Read-write (–æ–ø–∞—Å–Ω–æ)
```mermaid
graph LR
    A[–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å] --> B{–£–¥–∞–ª–∏—Ç—å —Ñ–∞–π–ª}
    B --> C[–ó–∞–ø—Ä–æ—Å –≤ Rclone]
    C --> D[–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ]
    D --> E[‚úÖ –£–¥–∞–ª–µ–Ω–æ]
    F[–û–±–ª–∞–∫–æ] --> G[–î–∞–Ω–Ω—ã–µ –£–î–ê–õ–ï–ù–´<br/>–±–µ–∑ –∫–æ—Ä–∑–∏–Ω—ã!]
    
    style E fill:#ffebee
    style G fill:#ffebee
```

---

## üèóÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–µ—Ä–≤–∏—Å–æ–≤

```mermaid
graph TB
    subgraph "Rclone Manager"
        A[rclone_manager.sh]
    end
    
    subgraph "Systemd Services"
        B["rclone@yandex_disk-ro.service"]
        C["rclone@yandex_disk-rw.service"]
        D["rclone@mail_ru-ro.service"]
        E["rclone@mail_ru-rw.service"]
    end
    
    subgraph "Mount Points"
        F["~/mnt/yandex_disk"]
        G["~/mnt/mail_ru"]
    end
    
    A --> B
    A --> C
    A --> D
    A --> E
    
    B --> F
    C --> F
    D --> G
    E --> G
    
    style A fill:#e1f5fe
    style B fill:#e8f5e8
    style C fill:#ffebee
    style F fill:#fff3e0
```

---

## üîÑ –†–∞–±–æ—á–∏–π –ø–æ—Ç–æ–∫ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

```mermaid
sequenceDiagram
    participant U as –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
    participant S as rclone_manager.sh
    participant R as Rclone
    participant C as Systemd
    participant O as –û–±–ª–∞–∫–æ
    
    Note over U,O: –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –ø–æ—Ç–æ–∫
    
    U->>S: rmro yandex_disk
    S->>C: start rclone@yandex_disk-ro
    C->>R: mount --read-only
    R->>O: API –∑–∞–ø—Ä–æ—Å—ã
    O->>R: –î–∞–Ω–Ω—ã–µ
    R->>C: –ì–æ—Ç–æ–≤–æ
    C->>S: OK
    S->>U: ‚úì –ü–æ–¥–∫–ª—é—á–µ–Ω–æ (read-only)
    
    Note over U,O: –ü–æ–ø—ã—Ç–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è
    U->>R: rm file.txt
    R->>R: –ü—Ä–æ–≤–µ—Ä–∫–∞ --read-only
    R->>U: ‚ùå Permission denied
    O-->>O: –î–∞–Ω–Ω—ã–µ –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
```

---

## ‚öôÔ∏è –ü–∞—Ä–∞–º–µ—Ç—Ä—ã VFS

```mermaid
graph TD
    A[–†–µ–∂–∏–º VFS] --> B{–ù—É–∂–Ω–∞ –∑–∞–ø–∏—Å—å?}
    B -->|–ù–µ—Ç| C[off/minimal]
    B -->|–î–∞| D[writes/full]
    
    C --> E[–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∫—ç—à<br/>–ë—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø]
    D --> F[–ü–æ–ª–Ω—ã–π –∫—ç—à<br/>–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å]
    
    E --> G[Read-only<br/>–ë–µ–∑–æ–ø–∞—Å–Ω–æ]
    F --> H[Read-write<br/>–û—Å—Ç–æ—Ä–æ–∂–Ω–æ]
    
    style G fill:#e8f5e8
    style H fill:#ffebee
```

---

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–µ–∂–∏–º–æ–≤

```mermaid
graph TD
    A[–†–µ–∂–∏–º] --> B{–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å}
    B -->|‚úÖ| C[Read-only]
    B -->|‚ö†Ô∏è| D[Read-write]
    
    C --> E[–ü–ª—é—Å—ã:<br/>‚Ä¢ –ó–∞—â–∏—Ç–∞ –æ—Ç —É–¥–∞–ª–µ–Ω–∏—è<br/>‚Ä¢ –ë—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø<br/>‚Ä¢ –ú–∏–Ω–∏–º—É–º —Ä–µ—Å—É—Ä—Å–æ–≤]
    D --> F[–ú–∏–Ω—É—Å—ã:<br/>‚Ä¢ –£–¥–∞–ª–µ–Ω–∏–µ –±–µ–∑ –∫–æ—Ä–∑–∏–Ω—ã<br/>‚Ä¢ –†–∏—Å–∫ –ø–æ—Ç–µ—Ä–∏ –¥–∞–Ω–Ω—ã—Ö<br/>‚Ä¢ –ù—É–∂–µ–Ω –∫–æ–Ω—Ç—Ä–æ–ª—å]
    
    style C fill:#e8f5e8
    style D fill:#ffebee
```

---

## üéØ –ü—Ä–∞–≤–∏–ª–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

```mermaid
graph TD
    A[–ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã] --> B[–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å rmro]
    B --> C[–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å rms]
    C --> D{–ù—É–∂–Ω–∞ –∑–∞–ø–∏—Å—å?}
    D -->|–ù–µ—Ç| E[–†–∞–±–æ—Ç–∞—Ç—å –≤ read-only]
    D -->|–î–∞| F[–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å rmt]
    F --> G[–í—ã–ø–æ–ª–Ω–∏—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–∏]
    G --> H[–í–µ—Ä–Ω—É—Ç—å rmro]
    H --> C
    
    style B fill:#e8f5e8
    style E fill:#e8f5e8
    style F fill:#ffebee
    style H fill:#e8f5e8
```

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```mermaid
graph TB
    P[rclone-manager/]
    
    P --> F1[README.md]
    P --> F2[rclone_manager.sh]
    P --> F3[install.sh]
    P --> F4["rclone@-ro.service"]
    P --> F5["rclone@-rw.service"]
    
    P --> D[docs/]
    D --> D1[–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç.md]
    D --> D2[–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å.md]
    D --> D3[–°–∏—Å—Ç–µ–º–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã.md]
    D --> D4[–ü–∞—Ä–∞–º–µ—Ç—Ä—ã VFS.md]
    D --> D5[–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫.md]
    D --> D6[–î–∏–∞–≥—Ä–∞–º–º—ã.md]
    
    P --> E[examples/]
    E --> E1[usage_examples.md]
    E --> E2[bashrc_aliases]
    
    style D6 fill:#e1f5fe
```

---

## üîÑ –î–∏–∞–≥—Ä–∞–º–º–∞ —Ä–∞–±–æ—Ç—ã –∫–æ–º–∞–Ω–¥

```mermaid
flowchart TD
    A[–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç –∫–æ–º–∞–Ω–¥—É] --> B{–ö–∞–∫–∞—è –∫–æ–º–∞–Ω–¥–∞?}
    
    B -->|rmro| C[–ó–∞–ø—É—Å–∫ read-only]
    B -->|rmrw| D[–ó–∞–ø—É—Å–∫ read-write]
    B -->|rmt| E[–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–∂–∏–º–∞]
    B -->|rms| F[–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞]
    B -->|rmstop| G[–û—Å—Ç–∞–Ω–æ–≤–∫–∞]
    
    C --> H[–í—ã–±–æ—Ä —Å–µ—Ä–≤–∏—Å–∞<br/>rclone@-ro.service]
    D --> I[–í—ã–±–æ—Ä —Å–µ—Ä–≤–∏—Å–∞<br/>rclone@-rw.service]
    E --> J{–¢–µ–∫—É—â–∏–π —Ä–µ–∂–∏–º?}
    J -->|ro| D
    J -->|rw| C
    
    H --> K[–ó–∞–ø—É—Å–∫ systemd]
    I --> K
    G --> K
    
    K --> L[–ú–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ]
    L --> M[–ì–æ—Ç–æ–≤–æ –∫ —Ä–∞–±–æ—Ç–µ]
    
    style C fill:#e8f5e8
    style D fill:#ffebee
    style F fill:#fff3e0
    style G fill:#fff3e0
```

---

## üìû –ü–æ—Ç–æ–∫ –æ—Ç–ª–∞–¥–∫–∏

```mermaid
graph TD
    A[–ü—Ä–æ–±–ª–µ–º–∞] --> B{–ß—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç?}
    
    B -->|–§–∞–π–ª—ã –Ω–µ –≤–∏–¥–Ω—ã| C[–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å<br/>rms]
    B -->|–û—à–∏–±–∫–∞ –¥–æ—Å—Ç—É–ø–∞| D[–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∞<br/>ls -la ~/mnt/]
    B -->|–°–µ—Ä–≤–∏—Å –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è| E[–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏<br/>journalctl]
    B -->|–¢–æ–∫–µ–Ω —É—Å—Ç–∞—Ä–µ–ª| F[–û–±–Ω–æ–≤–∏—Ç—å —Ç–æ–∫–µ–Ω<br/>rclone config update]
    
    C --> G[–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å<br/>rmstop && rmro]
    D --> H[–ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–∞–≤–∞<br/>chown]
    E --> I[–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥<br/>rclone config show]
    F --> J[–ü–µ—Ä–µ–Ω–∞—Å—Ç—Ä–æ–∏—Ç—å<br/>rclone config]
    
    G --> K[–†–µ—à–µ–Ω–æ]
    H --> K
    I --> K
    J --> K
    
    style K fill:#e8f5e8
```

---

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –î–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –¥–∏–∞–≥—Ä–∞–º–º –≤ VS Code —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ "Markdown Preview Mermaid Support" –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–Ω–ª–∞–π–Ω —Ä–µ–¥–∞–∫—Ç–æ—Ä Mermaid.